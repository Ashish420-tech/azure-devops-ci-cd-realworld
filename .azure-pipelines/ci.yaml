trigger:
- main

pool:
  name: Default

variables:
  appName: azure-devops-ci-cd-realworld

stages:
- stage: Build
  displayName: Build Stage
  jobs:
  - job: BuildJob
    displayName: Build Job
    steps:
    - script: |
        echo "Building application: $(appName)"
        ls -R
      displayName: Build application

- stage: Test
  displayName: Test Stage
  dependsOn: Build
  jobs:
  - job: TestJob
    displayName: Test Job
    steps:
    - script: |
        echo "Running tests for $(appName)"
        echo "All tests passed"
      displayName: Run tests
